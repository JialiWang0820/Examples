{"ast":null,"code":"import{useState}from\"react\";// React构建一个可搜索的产品数据表\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProductCategoryRow(_ref){let{category}=_ref;return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\",children:category})});}function ProductRow(_ref2){let{product}=_ref2;const name=product.stocked?product.name:/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:product.name});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:product.price})]});}function ProductTable(_ref3){let{products,filterText,inStockOnly}=_ref3;const rows=[];let lastCategory=null;products.forEach(product=>{if(product.name.toLowerCase().indexOf(filterText.toLowerCase())===-1){return;}if(inStockOnly&&!product.stocked){return;}if(product.category!==lastCategory){rows.push(/*#__PURE__*/_jsx(ProductCategoryRow,{category:product.category},product.category));}rows.push(/*#__PURE__*/_jsx(ProductRow,{product:product},product.name));lastCategory=product.category;});return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rows})]});}function SearchBar(_ref4){let{filterText,inStockOnly,onFilterTextChange,onInStockOnlyChange}=_ref4;return/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:filterText,placeholder:\"Search...\",onChange:e=>onFilterTextChange(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:inStockOnly,onChange:e=>onInStockOnlyChange(e.target.checked)}),' ',\"Only show products in stock\"]})]});}function FilterableProductTable(_ref5){let{products}=_ref5;const[filterText,setFilterText]=useState('');const[inStockOnly,setInStockOnly]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBar,{filterText:filterText,inStockOnly:inStockOnly,onFilterTextChange:setFilterText,onInStockOnlyChange:setInStockOnly}),/*#__PURE__*/_jsx(ProductTable,{products:products,filterText:filterText,inStockOnly:inStockOnly})]});}const PRODUCTS=[{category:'Sporting Goods',price:'$49.99',stocked:true,name:'Football'},{category:'Sporting Goods',price:'$9.99',stocked:true,name:'Baseball'},{category:'Sporting Goods',price:'$29.99',stocked:false,name:'Basketball'},{category:'Electronics',price:'$99.99',stocked:true,name:'iPod Touch'},{category:'Electronics',price:'$399.99',stocked:false,name:'iPhone 5'},{category:'Electronics',price:'$199.99',stocked:true,name:'Nexus 7'}];export default function App(){return/*#__PURE__*/_jsx(FilterableProductTable,{products:PRODUCTS});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","ProductCategoryRow","_ref","category","children","colSpan","ProductRow","_ref2","product","name","stocked","style","color","price","ProductTable","_ref3","products","filterText","inStockOnly","rows","lastCategory","forEach","toLowerCase","indexOf","push","SearchBar","_ref4","onFilterTextChange","onInStockOnlyChange","type","value","placeholder","onChange","e","target","checked","FilterableProductTable","_ref5","setFilterText","setInStockOnly","PRODUCTS","App"],"sources":["/Users/lx/Documents/Projects/Examples/fb0adc35-c4f2-428b-a595-cf4a50185195/src/searchable-products-list.js"],"sourcesContent":["import { useState } from \"react\"\n\n// React构建一个可搜索的产品数据表\nfunction ProductCategoryRow({ category }) {\n  return (\n    <tr>\n      <th colSpan=\"2\">\n        { category }\n      </th>\n    </tr>\n  )\n}\n\nfunction ProductRow({ product }) {\n  const name = product.stocked ? product.name :\n    <span style={{ color: 'red' }}>\n      { product.name }\n    </span>\n\n    return (\n      <tr>\n        <td>{ name }</td>\n        <td>{ product.price }</td>\n      </tr>\n    )\n}\n\nfunction ProductTable({ products, filterText, inStockOnly }) {\n  const rows = []\n  let lastCategory = null\n\n  products.forEach(product => {\n    if (\n      product.name.toLowerCase().indexOf(\n        filterText.toLowerCase()\n      ) === -1 \n    ) {\n      return\n    }\n    if (inStockOnly && !product.stocked) {\n      return;\n    }\n    if(product.category !== lastCategory) {\n      rows.push(\n        <ProductCategoryRow \n          category={product.category}\n          key={product.category} />\n      )\n    }\n    rows.push(\n      <ProductRow \n        product={product}\n        key={product.name} />\n    )\n    lastCategory = product.category\n  })\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Price</th>\n        </tr>\n      </thead>\n      <tbody>{ rows }</tbody>\n    </table>\n  )\n}\n\nfunction SearchBar({ \n  filterText, \n  inStockOnly,\n  onFilterTextChange,\n  onInStockOnlyChange\n}) {\n  return (\n    <form>\n      <input \n        type=\"text\" \n        value={filterText}\n        placeholder=\"Search...\"\n        onChange={(e) => onFilterTextChange(e.target.value)} />\n      <label>\n        <input \n          type=\"checkbox\"\n          checked={inStockOnly}\n          onChange={(e) => onInStockOnlyChange(e.target.checked)} />\n        {' '}\n        Only show products in stock\n      </label>\n    </form>\n  )\n}\n\nfunction FilterableProductTable({ products }) {\n  const [filterText, setFilterText] = useState('')\n  const [inStockOnly, setInStockOnly] = useState(false)\n  \n  return (\n    <div>\n      <SearchBar\n       filterText={filterText}\n       inStockOnly={inStockOnly}\n       onFilterTextChange={setFilterText}\n       onInStockOnlyChange={setInStockOnly} />\n      <ProductTable \n        products={products}\n        filterText={filterText}\n        inStockOnly={inStockOnly} />\n    </div>\n  )\n}\n\nconst PRODUCTS = [\n  { category: 'Sporting Goods', price: '$49.99', stocked: true, name: 'Football' },\n  { category: 'Sporting Goods', price: '$9.99', stocked: true, name: 'Baseball' },\n  { category: 'Sporting Goods', price: '$29.99', stocked: false, name: 'Basketball' },\n  { category: 'Electronics', price: '$99.99', stocked: true, name: 'iPod Touch' },\n  { category: 'Electronics', price: '$399.99', stocked: false, name: 'iPhone 5' },\n  { category: 'Electronics', price: '$199.99', stocked: true, name: 'Nexus 7' }\n]\n\nexport default function App() {\n  return <FilterableProductTable products={PRODUCTS} />\n}\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAEhC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,QAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACtC,mBACEJ,IAAA,OAAAM,QAAA,cACEN,IAAA,OAAIO,OAAO,CAAC,GAAG,CAAAD,QAAA,CACXD,QAAQ,CACR,CAAC,CACH,CAAC,CAET,CAEA,QAAS,CAAAG,UAAUA,CAAAC,KAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,KAAA,CAC7B,KAAM,CAAAE,IAAI,CAAGD,OAAO,CAACE,OAAO,CAAGF,OAAO,CAACC,IAAI,cACzCX,IAAA,SAAMa,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAR,QAAA,CAC1BI,OAAO,CAACC,IAAI,CACV,CAAC,CAEP,mBACET,KAAA,OAAAI,QAAA,eACEN,IAAA,OAAAM,QAAA,CAAMK,IAAI,CAAM,CAAC,cACjBX,IAAA,OAAAM,QAAA,CAAMI,OAAO,CAACK,KAAK,CAAM,CAAC,EACxB,CAAC,CAEX,CAEA,QAAS,CAAAC,YAAYA,CAAAC,KAAA,CAAwC,IAAvC,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,WAAY,CAAC,CAAAH,KAAA,CACzD,KAAM,CAAAI,IAAI,CAAG,EAAE,CACf,GAAI,CAAAC,YAAY,CAAG,IAAI,CAEvBJ,QAAQ,CAACK,OAAO,CAACb,OAAO,EAAI,CAC1B,GACEA,OAAO,CAACC,IAAI,CAACa,WAAW,CAAC,CAAC,CAACC,OAAO,CAChCN,UAAU,CAACK,WAAW,CAAC,CACzB,CAAC,GAAK,CAAC,CAAC,CACR,CACA,OACF,CACA,GAAIJ,WAAW,EAAI,CAACV,OAAO,CAACE,OAAO,CAAE,CACnC,OACF,CACA,GAAGF,OAAO,CAACL,QAAQ,GAAKiB,YAAY,CAAE,CACpCD,IAAI,CAACK,IAAI,cACP1B,IAAA,CAACG,kBAAkB,EACjBE,QAAQ,CAAEK,OAAO,CAACL,QAAS,EACtBK,OAAO,CAACL,QAAW,CAC5B,CAAC,CACH,CACAgB,IAAI,CAACK,IAAI,cACP1B,IAAA,CAACQ,UAAU,EACTE,OAAO,CAAEA,OAAQ,EACZA,OAAO,CAACC,IAAO,CACxB,CAAC,CACDW,YAAY,CAAGZ,OAAO,CAACL,QAAQ,CACjC,CAAC,CAAC,CAEF,mBACEH,KAAA,UAAAI,QAAA,eACEN,IAAA,UAAAM,QAAA,cACEJ,KAAA,OAAAI,QAAA,eACEN,IAAA,OAAAM,QAAA,CAAI,MAAI,CAAI,CAAC,cACbN,IAAA,OAAAM,QAAA,CAAI,OAAK,CAAI,CAAC,EACZ,CAAC,CACA,CAAC,cACRN,IAAA,UAAAM,QAAA,CAASe,IAAI,CAAS,CAAC,EAClB,CAAC,CAEZ,CAEA,QAAS,CAAAM,SAASA,CAAAC,KAAA,CAKf,IALgB,CACjBT,UAAU,CACVC,WAAW,CACXS,kBAAkB,CAClBC,mBACF,CAAC,CAAAF,KAAA,CACC,mBACE1B,KAAA,SAAAI,QAAA,eACEN,IAAA,UACE+B,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEb,UAAW,CAClBc,WAAW,CAAC,WAAW,CACvBC,QAAQ,CAAGC,CAAC,EAAKN,kBAAkB,CAACM,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAE,CAAE,CAAC,cACzD9B,KAAA,UAAAI,QAAA,eACEN,IAAA,UACE+B,IAAI,CAAC,UAAU,CACfM,OAAO,CAAEjB,WAAY,CACrBc,QAAQ,CAAGC,CAAC,EAAKL,mBAAmB,CAACK,CAAC,CAACC,MAAM,CAACC,OAAO,CAAE,CAAE,CAAC,CAC3D,GAAG,CAAC,6BAEP,EAAO,CAAC,EACJ,CAAC,CAEX,CAEA,QAAS,CAAAC,sBAAsBA,CAAAC,KAAA,CAAe,IAAd,CAAErB,QAAS,CAAC,CAAAqB,KAAA,CAC1C,KAAM,CAACpB,UAAU,CAAEqB,aAAa,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACsB,WAAW,CAAEqB,cAAc,CAAC,CAAG3C,QAAQ,CAAC,KAAK,CAAC,CAErD,mBACEI,KAAA,QAAAI,QAAA,eACEN,IAAA,CAAC2B,SAAS,EACTR,UAAU,CAAEA,UAAW,CACvBC,WAAW,CAAEA,WAAY,CACzBS,kBAAkB,CAAEW,aAAc,CAClCV,mBAAmB,CAAEW,cAAe,CAAE,CAAC,cACxCzC,IAAA,CAACgB,YAAY,EACXE,QAAQ,CAAEA,QAAS,CACnBC,UAAU,CAAEA,UAAW,CACvBC,WAAW,CAAEA,WAAY,CAAE,CAAC,EAC3B,CAAC,CAEV,CAEA,KAAM,CAAAsB,QAAQ,CAAG,CACf,CAAErC,QAAQ,CAAE,gBAAgB,CAAEU,KAAK,CAAE,QAAQ,CAAEH,OAAO,CAAE,IAAI,CAAED,IAAI,CAAE,UAAW,CAAC,CAChF,CAAEN,QAAQ,CAAE,gBAAgB,CAAEU,KAAK,CAAE,OAAO,CAAEH,OAAO,CAAE,IAAI,CAAED,IAAI,CAAE,UAAW,CAAC,CAC/E,CAAEN,QAAQ,CAAE,gBAAgB,CAAEU,KAAK,CAAE,QAAQ,CAAEH,OAAO,CAAE,KAAK,CAAED,IAAI,CAAE,YAAa,CAAC,CACnF,CAAEN,QAAQ,CAAE,aAAa,CAAEU,KAAK,CAAE,QAAQ,CAAEH,OAAO,CAAE,IAAI,CAAED,IAAI,CAAE,YAAa,CAAC,CAC/E,CAAEN,QAAQ,CAAE,aAAa,CAAEU,KAAK,CAAE,SAAS,CAAEH,OAAO,CAAE,KAAK,CAAED,IAAI,CAAE,UAAW,CAAC,CAC/E,CAAEN,QAAQ,CAAE,aAAa,CAAEU,KAAK,CAAE,SAAS,CAAEH,OAAO,CAAE,IAAI,CAAED,IAAI,CAAE,SAAU,CAAC,CAC9E,CAED,cAAe,SAAS,CAAAgC,GAAGA,CAAA,CAAG,CAC5B,mBAAO3C,IAAA,CAACsC,sBAAsB,EAACpB,QAAQ,CAAEwB,QAAS,CAAE,CAAC,CACvD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}